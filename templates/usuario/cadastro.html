{% extends 'modelo_base2.html' %}

{% block conteudo %}
    <div>
        <!-- Exibe as mensagens flash -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <ul>
                    {% for category, message in messages %}
                        <li class="{{ category }}">{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}
    </div>

    <!-- Formulário de login ou cadastro -->
    <form action="{{ url_for('login') if 'login' in request.url else url_for('cadastro') }}" method="POST">
        {% if 'login' in request.url %}
            <h2>Login</h2>
            <label for="username">Nome de Usuário:</label>
            <input type="text" id="username" name="username" required><br><br>

            <label for="password">Senha:</label>
            <input type="password" id="password" name="password" required><br><br>

            <button type="submit">Entrar</button>
        {% elif 'cadastro' in request.url %}
            <h2>Cadastro</h2>
            <label for="username2">Nome de Usuário:</label>
            <input type="text" id="username2" name="username" required><br><br>

            <label for="password">Senha:</label>
            <input type="password" id="password2" name="password" required><br><br>

            <label for="admin">ADMIN:</label>
            <input type="checkbox" id="admin" name="admin"><br><br>


            <button type="submit">Cadastrar</button>
        {% endif %}
    </form>

    {% if 'login' in request.url %}
        <p>Ainda não tem uma conta? <a href="{{ url_for('cadastro') }}">Cadastre-se!</a></p>
    {% elif 'cadastro' in request.url %}
        <p>Já tem uma conta? <a href="{{ url_for('login') }}">Faça login!</a></p>
    {% endif %}


{% endblock %}
